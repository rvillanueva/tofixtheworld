"use strict";angular.module("tofixtheworldApp",["ngAnimate","ngAria","ngCookies","ngMessages","ngResource","ngRoute","ngSanitize","ngTouch","firebase"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl"}).when("/admin",{templateUrl:"views/admin.html",controller:"AdminCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("tofixtheworldApp").controller("MainCtrl",["$scope","$firebase","ingredientFactory",function(a,b,c){var d=new Firebase("https://incandescent-torch-665.firebaseio.com/"),e=b(d.child("principles")),f=b(d.child("challenges"));a.principles=e.$asObject(),a.challenges=f.$asObject();var g,h;d.child("challenges").on("value",function(a){return h=a.val()},function(a){console.log("The read failed: "+a.code)}),d.child("principles").on("value",function(a){return g=a.val()},function(a){console.log("The read failed: "+a.code)}),a.generateRandomSet=function(){a.currentPrinciple=c.random(g),a.currentChallenge=c.random(h),console.log("Generate!"),console.log(g),console.log(a.currentPrinciple)},a.principles.$loaded().then(function(){console.log("activated"),a.currentPrinciple=c.random(g),console.log("Principles loaded")}),a.challenges.$loaded().then(function(){a.currentChallenge=c.random(h)}),console.log("Back!")}]),angular.module("tofixtheworldApp").controller("AboutCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("tofixtheworldApp").controller("AdminCtrl",["$scope",function(a){a.ingredient={type:"principles",name:null,hints:{1:{desc:null,link:null},2:{desc:null,link:null},3:{desc:null,link:null},4:{desc:null,link:null},5:{desc:null,link:null}}};var b=angular.copy(a.ingredient);a.resetForm=function(){var c=a.ingredient.type;a.ingredient=angular.copy(b),a.ingredient.type=c,a.ingredientForm.$setPristine()},a.submitData=function(){var b=new Firebase("https://incandescent-torch-665.firebaseio.com/"+a.ingredient.type);b.push({active:!1,name:a.ingredient.name,hints:a.ingredient.hints}),a.resetForm()}}]),angular.module("tofixtheworldApp").factory("ingredientFactory",["$firebase",function(){return{random:function(a){var b=Object.keys(a),c=b[Math.floor(Math.random()*b.length)];return a[c]},all:function(){return ingredientObj}}}]);